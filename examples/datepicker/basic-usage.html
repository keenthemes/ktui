<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KTUI Datepicker - Basic Usage</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../../dist/styles.css">
</head>
<body class="bg-gray-50 p-8">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold text-gray-900 mb-8">KTUI Datepicker - Basic Usage</h1>

        <!-- Basic Single Date Selection -->
        <div class="mb-8">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">Basic Single Date Selection</h2>
            <div class="bg-white p-6 rounded-lg shadow-sm border">
                <label class="block text-sm font-medium text-gray-700 mb-2">Select a date:</label>
                <div class="kt-datepicker" data-kt-datepicker data-kt-datepicker-format="dd/MM/yyyy">
                    <input type="text" data-kt-datepicker-input placeholder="dd/mm/yyyy" class="hidden">
                </div>
            </div>
        </div>

        <!-- Date with Custom Format -->
        <div class="mb-8">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">Custom Date Format</h2>
            <div class="bg-white p-6 rounded-lg shadow-sm border">
                <label class="block text-sm font-medium text-gray-700 mb-2">Select date (MM/dd/yyyy):</label>
                <div class="kt-datepicker" data-kt-datepicker data-kt-datepicker-format="MM/dd/yyyy">
                    <input type="text" data-kt-datepicker-input placeholder="mm/dd/yyyy" class="hidden">
                </div>
            </div>
        </div>

        <!-- Date with Min/Max Constraints -->
        <div class="mb-8">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">Date with Constraints</h2>
            <div class="bg-white p-6 rounded-lg shadow-sm border">
                <label class="block text-sm font-medium text-gray-700 mb-2">Select date (between Nov 20 - Dec 10, 2025):</label>
                <div class="kt-datepicker" data-kt-datepicker data-kt-datepicker-min-date="2025-11-20" data-kt-datepicker-max-date="2025-12-10">
                    <input type="text" data-kt-datepicker-input placeholder="dd/mm/yyyy" class="hidden">
                </div>
            </div>
        </div>

        <!-- Date with Disabled Dates -->
        <div class="mb-8">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">Date with Disabled Dates</h2>
            <div class="bg-white p-6 rounded-lg shadow-sm border">
                <label class="block text-sm font-medium text-gray-700 mb-2">Select date (weekends disabled):</label>
                <div class="kt-datepicker" data-kt-datepicker>
                    <input type="text" data-kt-datepicker-input placeholder="dd/mm/yyyy" class="hidden">
                </div>
                <div class="mt-2 text-sm text-gray-500">
                    Note: Disabled dates require JavaScript configuration with disabledDates array
                </div>
            </div>
        </div>

        <!-- Date with Time Picker -->
        <div class="mb-8">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">Date with Time Picker</h2>
            <div class="bg-white p-6 rounded-lg shadow-sm border">
                <label class="block text-sm font-medium text-gray-700 mb-2">Select date and time:</label>
                <div class="kt-datepicker" data-kt-datepicker data-kt-datepicker-enable-time="true" data-kt-datepicker-time-granularity="minute" data-kt-datepicker-time-format="12h">
                    <input type="text" data-kt-datepicker-input placeholder="dd/mm/yyyy hh:mm:ss" class="hidden">
                </div>
            </div>
        </div>

        <!-- Date Range Picker Example -->
        <div class="mb-8">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">Date Range Picker</h2>
            <div class="bg-white p-6 rounded-lg shadow-sm border">
                <label class="block text-sm font-medium text-gray-700 mb-2">Select date range:</label>
                <div class="kt-datepicker" data-kt-datepicker data-kt-datepicker-range="true">
                    <input type="text" data-kt-datepicker-input placeholder="dd/mm/yyyy - dd/mm/yyyy" class="hidden">
                </div>
                <div class="mt-4 text-sm text-gray-600">
                    <strong>Selected Range:</strong> <span id="range-display">None</span>
                </div>
            </div>
        </div>

        <!-- German Locale Example -->
        <div class="mb-8">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">German Locale (de-DE)</h2>
            <div class="bg-white p-6 rounded-lg shadow-sm border">
                <label class="block text-sm font-medium text-gray-700 mb-2">Wählen Sie ein Datum (German locale):</label>
                <div class="kt-datepicker" data-kt-datepicker data-kt-datepicker-locale="de-DE">
                    <input type="text" data-kt-datepicker-input placeholder="tt/mm/jjjj" class="hidden">
                </div>
                <div class="mt-2 text-sm text-gray-500">
                    Format: dd/MM/yyyy with German locale
                </div>
            </div>
        </div>

        <!-- French Locale Example -->
        <div class="mb-8">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">French Locale (fr-FR)</h2>
            <div class="bg-white p-6 rounded-lg shadow-sm border">
                <label class="block text-sm font-medium text-gray-700 mb-2">Sélectionnez une date (French locale):</label>
                <div class="kt-datepicker" data-kt-datepicker data-kt-datepicker-locale="fr-FR">
                    <input type="text" data-kt-datepicker-input placeholder="jj/mm/aaaa" class="hidden">
                </div>
                <div class="mt-2 text-sm text-gray-500">
                    Format: dd/MM/yyyy with French locale
                </div>
            </div>
        </div>
    </div>

    <script src="../../dist/ktui.js"></script>
    <script>
        // Date Range Display Script
        document.addEventListener('DOMContentLoaded', function() {
            // Find the date range picker
            const rangePicker = document.querySelector('[data-kt-datepicker-range="true"]');
            const rangeDisplay = document.getElementById('range-display');

            if (rangePicker && rangePicker.instance) {
                const datepickerInstance = rangePicker.instance;

                // Function to format and display the selected range
                function updateRangeDisplay() {
                    const state = datepickerInstance.getState();
                    const selectedRange = state.selectedRange;

                    if (selectedRange && selectedRange.start && selectedRange.end) {
                        // Format dates according to the datepicker's format (dd/MM/yyyy)
                        const formatDate = (date) => {
                            const day = date.getDate().toString().padStart(2, '0');
                            const month = (date.getMonth() + 1).toString().padStart(2, '0');
                            const year = date.getFullYear();
                            return `${day}/${month}/${year}`;
                        };

                        const startDate = formatDate(selectedRange.start);
                        const endDate = formatDate(selectedRange.end);
                        rangeDisplay.textContent = `${startDate} - ${endDate}`;
                    } else if (selectedRange && selectedRange.start) {
                        // Only start date selected
                        const formatDate = (date) => {
                            const day = date.getDate().toString().padStart(2, '0');
                            const month = (date.getMonth() + 1).toString().padStart(2, '0');
                            const year = date.getFullYear();
                            return `${day}/${month}/${year}`;
                        };

                        const startDate = formatDate(selectedRange.start);
                        rangeDisplay.textContent = `${startDate} - ...`;
                    } else {
                        // No range selected
                        rangeDisplay.textContent = 'None';
                    }
                }

                // Listen for state changes
                const originalUpdateState = datepickerInstance._unifiedStateManager.updateState;
                datepickerInstance._unifiedStateManager.updateState = function(...args) {
                    originalUpdateState.apply(this, args);
                    // Update display after state change
                    setTimeout(updateRangeDisplay, 0);
                };

                // Initial display update
                updateRangeDisplay();
            }
        });
    </script>
</body>
</html>
